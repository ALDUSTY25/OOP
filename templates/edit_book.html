{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center fade-in">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow-lg border-0 rounded-4">
            <div class="card-body p-4">
                <h2 class="text-center mb-4">üìö –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–∏–≥—É: {{ book.title }}</h2>

                <!-- –§–æ—Ä–º–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ -->
                <form method="POST" class="needs-validation" novalidate enctype="multipart/form-data">
                    {{ form.hidden_tag() }}

                    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ -->
                    <div class="mb-3">
                        <label for="title" class="form-label visually-hidden">{{ form.title.label }}</label>
                        {{ form.title(class="form-control form-control-lg rounded-pill", id="title", placeholder=form.title.label.text, required=True) }}
                        <div class="invalid-feedback">
                            –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏
                        </div>
                    </div>

                    <!-- –ê–≤—Ç–æ—Ä -->
                    <div class="mb-3">
                        <label for="author_name" class="form-label visually-hidden">{{ form.author_name.label }}</label>
                        {{ form.author_name(class="form-control form-control-lg rounded-pill", id="author_name", placeholder=form.author_name.label.text, required=True) }}
                        <div class="invalid-feedback">
                            –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–≤—Ç–æ—Ä–∞
                        </div>
                    </div>

                    <!-- –ñ–∞–Ω—Ä -->
                    <div class="mb-3">
                        <label for="genre_name" class="form-label visually-hidden">{{ form.genre_name.label }}</label>
                        {{ form.genre_name(class="form-control form-control-lg rounded-pill", id="genre_name", placeholder=form.genre_name.label.text, required=True) }}
                        <div class="invalid-feedback">
                            –í–≤–µ–¥–∏—Ç–µ –∂–∞–Ω—Ä
                        </div>
                    </div>

                    <!-- –ì–æ–¥ –∏–∑–¥–∞–Ω–∏—è -->
                    <div class="mb-3">
                        <label for="year" class="form-label visually-hidden">{{ form.year.label }}</label>
                        {{ form.year(class="form-control form-control-lg rounded-pill", id="year", placeholder=form.year.label.text, required=True) }}
                        <div class="invalid-feedback">
                            –í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –∏–∑–¥–∞–Ω–∏—è
                        </div>
                    </div>

                    <!-- –¢–µ–∫—É—â–∞—è –æ–±–ª–æ–∂–∫–∞ -->
                    {% if book.cover %}
                    <div class="mb-3 text-center">
                        <img src="{{ url_for('static', filename=book.cover) }}?v={{ book.id }}"
                             alt="–¢–µ–∫—É—â–∞—è –æ–±–ª–æ–∂–∫–∞"
                             class="img-fluid rounded shadow-sm"
                             style="max-height: 200px; object-fit: cover;">
                        <p class="mt-2 text-muted small">–¢–µ–∫—É—â–∞—è –æ–±–ª–æ–∂–∫–∞</p>
                    </div>
                    {% endif %}

                    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–π –æ–±–ª–æ–∂–∫–∏ -->
                    <div class="mb-3">
                        <label for="cover" class="form-label visually-hidden">{{ form.cover.label }}</label>
                        {{ form.cover(class="form-control form-control-lg rounded-pill", id="cover") }}
                        <div class="form-text text-muted small mt-1">
                            –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: jpg, jpeg, png. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 16 –ú–ë.
                        </div>
                        <div class="invalid-feedback">
                            –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–ª–æ–∂–∫—É –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
                        </div>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
                    <div class="d-grid">
                        {{ form.submit(class="btn btn-primary btn-lg rounded-pill shadow-sm", value='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è') }}
                    </div>
                </form>

                <!-- –°—Å—ã–ª–∫–∞ –Ω–∞–∑–∞–¥ -->
                <p class="text-center mt-3">
                    <a href="{{ url_for('books') }}" class="text-decoration-none">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–Ω–∏–≥–∞–º</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}